{"version":3,"sources":["components/MovieItem.jsx","utils/api.js","components/MovieTabs.jsx","components/App.jsx","index.js"],"names":["MovieItem","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","willWatch","_this2","_this$props","props","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","react_default","a","createElement","className","src","concat","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","bind","React","Component","API_URL","API_KEY_3","MovieTabs","nextProps","nextState","console","log","sort_by","value","updateSortBy","handleClick","event","App","getMovies","fetch","then","response","json","data","movies","results","updateMovies","filter","item","id","toConsumableArray","moviesWillWatch","updateMoviesWillWatch","prevProps","prevState","components_MovieTabs","map","key","components_MovieItem","length","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.43535583.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      willWatch: false\n    };\n  }\n\n\n  // componentWillUnmount (){\n  //   console.log('unmount', this.props.data.title)\n  // }\n\n  render() {\n    const {\n      movie,\n      removeMovie,\n      addMovieToWillWatch,\n      removeMovieFromWillWatch\n    } = this.props;\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card__img-top\"\n          src={`https://image.tmdb.org/t/p/w500${\n            movie.backdrop_path || movie.poster_path\n          }`}\n          alt=\"\"\n        />\n        <div className=\"card__body\">\n          <h6 className=\"card__title\">{movie.title}</h6>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-0\">Rating: {movie.vote_average}</p>\n\n            {this.state.willWatch === true ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={() => {\n                  this.setState({\n                    willWatch: false\n                  });\n                  removeMovieFromWillWatch(movie);\n                }}\n              >\n                Remove Will Watch\n              </button>\n            ) : (\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                onClick={() => {\n                  this.setState({\n                    willWatch: true\n                  });\n\n                  addMovieToWillWatch(movie);\n                }}\n              >\n                Add Will Watch\n              </button>\n            )}\n          </div>\n          <button onClick={removeMovie.bind(null, movie)}> Delete movie</button>\n        </div>\n      </div>\n    );\n  }\n}\n\n// const MovieItem = (props) => {\n//   console.log(props);\n// };\n\nexport default MovieItem;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"56d1d4821208cf0910564f7a690a9354\";\n\nexport const API_KEY_4 =\n  \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1NmQxZDQ4MjEyMDhjZjA5MTA1NjRmN2E2OTBhOTM1NCIsInN1YiI6IjVlZDNjNjFkMWIxNTdkMDAxZjU0Y2ZmNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.rzQxXtUHsc93Hhjj879NUST922bsu9cDz_x2XBJ98X0\";\n","import React from \"react\";\n\n//const MovieTabs = (props) => {\n\nclass MovieTabs extends React.Component {\n  componentWillReceiveProps(nextProps, nextState) {\n    console.log(\"willReceiveProps\");\n    console.log(\"nextProps sort_by\", nextProps.sort_by);\n    console.log(\"prevProps sort_by\", this.props.sort_by);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps.sort_by !== this.props.sort_by) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  render() {\n    const { sort_by, updateSortBy } = this.props;\n    // const handleClick = (value) => () => {\n    //     updateSortBy(value);\n    //   };\n    const handleClick = (value) => {\n      return (event) => {\n        updateSortBy(value);\n      };\n    };\n    const getClassLink = (value) => {\n      return `nav-link  ${sort_by === value ? \"active\" : \"\"}`;\n    };\n\n    return (\n      <ul className=\"tabs nav nav-pills\">\n        <li className=\"nav-item\">\n          <div\n            // className={`nav-link ${\n            //   sort_by === \"popularity.desc\" ? \"active\" : \"\"\n            // }`}\n\n            className={getClassLink(\"popularity.desc\")}\n            onClick={handleClick(\"popularity.desc\")}\n          >\n            Popularity desc\n          </div>\n        </li>\n\n        <li className=\"nav-item\">\n          <div\n            className={`nav-link ${sort_by === \"revenue.desc\" ? \"active\" : \"\"}`}\n            // onClick={(event) => {\n            //   updateSortBy(\"revenue.desc\");\n            // }}\n            onClick={handleClick(\"revenue.desc\")}\n          >\n            Revenue desc\n          </div>\n        </li>\n\n        <li className=\"nav-item\">\n          <div\n            className={`nav-link ${\n              sort_by === \"vote_average.desc\" ? \"active\" : \"\"\n            }`}\n            // onClick={(event) => {\n            //   updateSortBy(\"vote_average.desc\");\n            // }}\n            onClick={handleClick(\"vote_average.desc\")}\n          >\n            Vote avetage desc\n          </div>\n        </li>\n      </ul>\n    );\n  }\n}\n\nexport default MovieTabs;\n","import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\nimport MovieTabs from \"./MovieTabs\";\n\n//UI = fn(state,props)\n//onsole.log(moviesData);\n\n// function removeMovie(movie) {\n//   const updateMovies = this.state.movies.filter(function(item){\n//     return item.id !== movie.id;\n//   });\n//   console.log(updateMovies);\n\n//   // this.state.movies=updateMovies;\n//   this.setState({\n//     movies: updateMovies\n//   });\n// }\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: \"revenue.desc\"\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"didMount\");\n    // fetch(\n    //   `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}`\n    // )\n    //   .then((response) => {\n    //     console.log(\"then\");\n    //     return response.json();\n    //   })\n    //   .then((data) => {\n    //     console.log(\"data\", data);\n    //     this.setState({\n    //       movies: data.results\n    //     });\n    //   });\n\n    this.getMovies()\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    console.log('didUpdate');\n    console.log('prev', prevProps, prevState);\n    console.log('this', this.props, this.state);\n    if (prevState.sort_by !== this.state.sort_by){\n      console.log('call api');\n      this.getMovies()\n\n    }\n  }\n\n  getMovies =()=>{\n    fetch(\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}`\n    )\n      .then((response) => {\n        console.log(\"then\");\n        return response.json();\n      })\n      .then((data) => {\n        console.log(\"data\", data);\n        this.setState({\n          movies: data.results\n        });\n      });\n  }\n\n  removeMovie = (movie) => {\n    const updateMovies = this.state.movies.filter(function (item) {\n      return item.id !== movie.id;\n    });\n    console.log(updateMovies);\n\n    // this.state.movies=updateMovies;\n    this.setState({\n      movies: updateMovies\n    });\n  };\n\n  addMovieToWillWatch = (movie) => {\n    console.log(movie);\n    const updateMovies = [...this.state.moviesWillWatch, movie];\n\n    // const updateMovies = [...this.state.moviesWillWatch];\n    // updateMovies.push(movie);\n\n    console.log(updateMovies);\n\n    this.setState({ moviesWillWatch: updateMovies });\n  };\n\n  removeMovieFromWillWatch = (movie) => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(function (\n      item\n    ) {\n      return item.id !== movie.id;\n    });\n    console.log(updateMoviesWillWatch);\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  updateSortBy = (value) => {\n    this.setState({\n      sort_by: value\n    });\n  };\n\n  render() {\n    console.log(\"render\", this.state.sort_by);\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row\">\n              <div className=\"col-12 mb-4\">\n                <MovieTabs\n                  sort_by={this.state.sort_by}\n                  updateSortBy={this.updateSortBy}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map((movie) => {\n                return (\n                  <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      removeMovieFromWillWatch={this.removeMovieFromWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n\n          <div className=\"col-3\">\n            <p>Will watch {this.state.moviesWillWatch.length}</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n// function App() {\n//   return <div>{moviesData[0].title}</div>;\n// }\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport moviesData from \"./moviesData\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}